root = this.things.filter(thing -> thing.is_cool && thing.quantity > this.num_friends)
